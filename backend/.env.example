# Server Configuration
HOST=0.0.0.0
PORT=3000
LOG_LEVEL=info

# LLM Provider API Keys (at least one required)
ANTHROPIC_API_KEY=your_anthropic_api_key_here
GEMINI_API_KEY=your_gemini_api_key_here
OPENAI_API_KEY=your_openai_api_key_here
AZURE_API_KEY=your_azure_api_key_here
COHERE_API_KEY=your_cohere_api_key_here

# AWS Configuration (for Bedrock)
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_REGION=us-east-1

# Database Configuration (PostgreSQL - REQUIRED for authentication)
DATABASE_URL=postgresql://username:password@localhost:5432/llm_gateway

# Cache Configuration (Redis - optional)
REDIS_URL=redis://localhost:6379
ENABLE_CACHING=true
CACHE_TTL_SECONDS=3600

# ============================================================================
# Authentication Configuration
# ============================================================================

# Master Key (REQUIRED - must start with "sk-")
# Used for administrative operations (user creation, key management)
INFERXGATE_MASTER_KEY=sk-your-master-key-here

# JWT Configuration
# IMPORTANT: Generate a strong random secret for production!
# Example: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-change-me-in-production
JWT_EXPIRY_HOURS=168  # 7 days

# Require authentication for all API requests
# Set to "true" to require auth for /v1/chat/completions and /v1/models
# Set to "false" to allow anonymous access (auth is optional)
REQUIRE_AUTH=false

# ============================================================================
# OAuth Configuration
# ============================================================================

# GitHub OAuth
# Create OAuth app at: https://github.com/settings/developers
GITHUB_CLIENT_ID=your_github_client_id
GITHUB_CLIENT_SECRET=your_github_client_secret

# Google OAuth (future support)
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret

# OAuth Redirect URL
# Must match the callback URL configured in your OAuth app
OAUTH_REDIRECT_URL=http://localhost:3000/auth/oauth/callback

# ============================================================================
# Security Configuration
# ============================================================================

# Allowed Email Domains (optional)
# Restrict registration to specific email domains (comma-separated)
# Leave empty to allow all domains
ALLOWED_EMAIL_DOMAINS=example.com,yourdomain.com

# Proxy Admin ID (optional)
# Email address of the default admin user
PROXY_ADMIN_ID=admin@example.com

# ============================================================================
# Setup Instructions
# ============================================================================

# 1. Copy this file to .env:
#    cp .env.example .env

# 2. Add at least one LLM provider API key

# 3. Set up PostgreSQL database:
#    - Create database: createdb llm_gateway
#    - Update DATABASE_URL with your credentials
#    - Migrations run automatically on startup

# 4. Generate a secure master key:
#    echo "sk-$(openssl rand -base64 32)"
#    Copy the output to INFERXGATE_MASTER_KEY

# 5. Generate a secure JWT secret:
#    openssl rand -base64 32
#    Copy the output to JWT_SECRET

# 6. (Optional) Set up GitHub OAuth:
#    - Go to https://github.com/settings/developers
#    - Create a new OAuth app
#    - Set Authorization callback URL to: http://localhost:3000/auth/oauth/callback
#    - Copy Client ID and Client Secret to this file

# 7. (Optional) Set up Redis for caching:
#    - Install Redis: brew install redis (macOS) or apt install redis (Linux)
#    - Start Redis: redis-server
#    - Update REDIS_URL if needed

# 8. Start the server:
#    cd backend && cargo run
